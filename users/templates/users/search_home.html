{% extends "base.html" %}

{% block title %} Search Home {% endblock title %}

{% block body %}
<div
  class="d-flex justify-content-center align-items-center"
  style="min-height: 90vh"
>
  <div
    class="shadow-sm rounded-3 bg-white border border-1 m-3 p-3 w-100"
    style="max-width: 576px"
  >
    <h3 class="text-center">Find Your Perfect Home</h3>
    <p class="text-center text-muted">
      Search for homes in your desired location.
    </p>

    <!-- Location Input -->
    <form id="searchForm">
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Enter location"
          required
        />
      </div>

      <!-- Advanced Search Form -->
      <div class="advanced-search" id="advancedSearchForm" style="display:none">
        <div class="row">
          <div class="col-sm-6 mb-3">
            <label for="minPrice" class="form-label">Min Price (₹):</label>
            <input
              type="number"
              id="minPrice"
              class="form-control"
              placeholder="Min Price"
            />
          </div>
          <div class="col-sm-6 mb-3">
            <label for="maxPrice" class="form-label">Max Price (₹):</label>
            <input
              type="number"
              id="maxPrice"
              class="form-control"
              placeholder="Max Price"
            />
          </div>
        </div>

        <!-- Rent Duration -->
        <div class="row mb-3">
          <div class="col-sm-6">
            <label for="startDate" class="form-label">Start Date:</label>
            <input type="date" id="startDate" class="form-control" />
          </div>
          <div class="col-sm-6">
            <label for="endDate" class="form-label">End Date:</label>
            <input type="date" id="endDate" class="form-control" />
          </div>
        </div>

        <!-- Property Type -->
        <div class="mb-3">
          <label for="propertyType" class="form-label">Property Type:</label>
          <select class="form-select" id="propertyType">
            <option value="" disabled>Select property type</option>
            <option value="Flat">Flat</option>
            <option value="House">House</option>
            <option value="Apartment">Apartment</option>
            <option value="All" selected>All</option>
          </select>
        </div>
      </div>

      <!-- Find Home Button -->
      <div id="quickFindSection" class="mb-3">
        <button
          type="button"
          id="toggleBtn"
          class="btn btn-success btn-lg w-100"
        >
          Quick Find Home
        </button>
      </div>

      <!-- Toggle Switch -->
      <div
        class="form-check form-switch d-flex justify-content-center ps-0 my-2"
      >
        <label
          class="form-check-label fw-bold"
          id="toggleText"
          for="toggleSearch"
          >Quick Search</label
        >
        <input
          class="form-check-input ms-2"
          type="checkbox"
          id="toggleSearch"
        />
      </div>
    </form>
  </div>
</div>

<!-- Toggle button script-->
<script>
  const toggleSearch = document.getElementById('toggleSearch')
  const advancedSearchForm = document.getElementById('advancedSearchForm')
  const toggleBtn = document.getElementById('toggleBtn')
  const toggleText = document.getElementById('toggleText')

  toggleSearch.addEventListener('change', function () {
    if (toggleSearch.checked) {
      // Show advanced search form and change button text
      advancedSearchForm.style.display = 'block'
      toggleBtn.textContent = 'Find Perfect Home'
      toggleText.textContent = 'Advanced Search'
    } else {
      // Hide advanced search form and revert button text
      advancedSearchForm.style.display = 'none'
      toggleBtn.textContent = 'Quick Find Home'
      toggleText.textContent = 'Quick Search'
    }
  })
</script>

{% endblock body %}
